{% extends 'inventory/base.html' %}
{% load inventory_extras %}
{% block content %}
<h3 class="text-center mb-3">New Purchase</h3>
<form method="post">{% csrf_token %}
  <div class="card mb-3">
    <div class="card-body">
      <!-- Invoice Date -->
      <label for="invoice_date">Invoice Date:</label>
      <input type="date" id="invoice_date" name="invoice_date" value="{{ today_date|date:'Y-m-d' }}" required>

      <!-- Render remaining fields except invoice_date -->
      {% for field in m_form %}
        {% if field.name != 'invoice_date' %}
          <p>{{ field.label_tag }} {{ field }}</p>
        {% endif %}
      {% endfor %}
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      {{ formset.management_form }}
      <table class="table">
        <tr><th>Item</th><th>Qty</th><th>Price</th><th></th></tr>
        {% for f in formset.forms %}
        <tr>
          <td>{{ f.item }}</td>
          <td>{{ f.quantity }}</td>
          <td>{{ f.price }}</td>
          <td>{% if f.instance.pk %}{{ f.DELETE }} Delete{% endif %}</td>
        </tr>
        {% endfor %}
      </table>
      <button class="btn btn-outline-secondary" type="submit">Save Purchase</button>
    </div>
  </div>
</form>

<style>
/* Center and style the form labels */
.card-body label {
  display: block;
  font-weight: 600;
  text-align: center;
  margin-bottom: 0.3rem;
  font-size: 1rem;
  color: #0072ff;
}

/* Center and style input/select fields */
.card-body input, 
.card-body select {
  display: block;
  margin: 0 auto 0.8rem auto;
  text-align: center;
  border: 1.5px solid #00c6ff;
  border-radius: 6px;
  padding: 0.4rem 0.6rem;
  width: 80%;
  max-width: 500px;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.card-body input:focus, 
.card-body select:focus {
  border-color: #00ff9d;
  box-shadow: 0 0 6px rgba(0,255,157,0.5);
  outline: none;
}

/* Style table */
.table {
  margin-top: 1rem;
  text-align: center;
  font-size: 1rem;
}

.table th, .table td {
  vertical-align: middle;
  text-align: center;
  padding: 0.6rem 0.8rem;
}

/* Style Save button */
.btn-outline-secondary {
  display: block;
  margin: 1rem auto 0 auto;
  padding: 0.5rem 2rem;
  font-weight: 600;
  font-size: 1rem;
  border-radius: 6px;
  transition: all 0.3s ease;
}

.btn-outline-secondary:hover {
  background-color: #00c6ff;
  color: #fff;
  transform: scale(1.05);
}
</style>
{% endblock %}








